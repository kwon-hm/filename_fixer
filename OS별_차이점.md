# OS별 작동 차이점

## 🖥️ 확장프로그램 호환성

| 기능              | 맥 (macOS)       | 윈도우 (Windows) |
| ----------------- | ---------------- | ---------------- |
| 확장프로그램 설치 | ✅ 가능          | ✅ 가능          |
| 깨진 파일명 인식  | ✅ 작동          | ✅ 작동          |
| 한글 자모 조합    | ✅ 작동          | ✅ 작동          |
| 파일 다운로드     | ✅ 작동          | ✅ 작동          |
| **파일명 유지**   | ⚠️ **제약 있음** | ✅ **완벽**      |

## 📋 상세 설명

### 윈도우에서 (완벽 작동 ✅)

#### 사용 흐름

```
1. 깨진 파일 발견
   ㅈㅏㄱㅣㅍㅕㅇㄱㅏㅅㅓ.pdf

2. 확장프로그램 실행
   - 파일 드래그
   - "✨ 파일명 복원하기" 클릭

3. 다운로드
   자기평가서.pdf

4. 결과
   ✅ 파일명이 계속 정상 유지!
   ✅ 다른 사람에게 보내도 정상!
```

#### 이유

- 윈도우는 **NFC (Normalization Form Composed)** 사용
- 완성된 한글 ("자기평가서")을 그대로 저장
- 파일시스템이 파일명을 변경하지 않음

---

### 맥에서 (제약 있음 ⚠️)

#### 사용 흐름

```
1. 깨진 파일 발견
   ㅈㅏㄱㅣㅍㅕㅇㄱㅏㅅㅓ.pdf

2. 확장프로그램 실행
   - 파일 드래그
   - "✨ 파일명 복원하기" 클릭

3. 다운로드
   자기평가서.pdf

4. 맥 파일시스템에 저장
   ⚠️ 자동으로 NFD로 변환됨

5. 윈도우 친구에게 전송 시
   ❌ 다시 깨져서 전송됨
```

#### 이유

- 맥은 **NFD (Normalization Form Decomposed)** 사용
- 파일을 저장할 때 자동으로 NFD로 변환
- "자기평가서" → "ㅈㅏㄱㅣㅍㅕㅇㄱㅏㅅㅓ" (다시 분해)
- 이것이 맥의 파일시스템 특성!

---

## 🎯 권장 사용법

### 윈도우 사용자

```
✅ 이 확장프로그램 사용
✅ 복원된 파일을 자유롭게 사용/공유
✅ 파일명이 계속 정상 유지됨
```

### 맥 사용자

#### Case 1: 개인 용도만 (✅ OK)

```
깨진 파일 → 복원 → 개인적으로 확인
(윈도우로 다시 보내지 않음)
```

#### Case 2: 윈도우로 전송 필요 (⚠️ 제약)

```
방법 1: ZIP 사용 (권장)
  - 파일을 ZIP으로 압축
  - ZIP 내부 파일명은 NFC 유지
  - ZIP 파일을 전송

방법 2: 클라우드 사용
  - Google Drive / Dropbox 업로드
  - 링크 공유

방법 3: 개별 파일 전송 (제한적)
  - 복원된 파일을 즉시 메일 첨부
  - 다운로드 폴더에 오래 두지 않기
  ⚠️ 완벽하지 않을 수 있음
```

---

## 🔬 기술적 배경

### 맥 vs 윈도우 파일명 처리

#### 맥 (NFD)

```javascript
// 맥 파일시스템은 이렇게 저장:
"한글"
→ "ㅎ" + "ㅏ" + "ㄴ" + "ㄱ" + "ㅡ" + "ㄹ" (6개 문자)
→ NFD (Decomposed)
```

#### 윈도우 (NFC)

```javascript
// 윈도우 파일시스템은 이렇게 저장:
"한글"
→ "한" + "글" (2개 문자)
→ NFC (Composed)
```

### 문제 발생 과정

```
1. 맥 사용자가 파일 생성
   "자기평가서.pdf" → NFD로 저장

2. 윈도우 사용자가 다운로드
   NFD → 윈도우는 NFC 기대
   → "ㅈㅏㄱㅣㅍㅕㅇㄱㅏㅅㅓ.pdf"로 보임

3. 윈도우에서 확장프로그램으로 복원
   "ㅈㅏㄱㅣㅍㅕㅇㄱㅏㅅㅓ.pdf"
   → "자기평가서.pdf" (NFC)
   → 윈도우 파일시스템에 NFC로 저장
   → ✅ 계속 정상!

4. 맥에서 확장프로그램으로 복원
   "ㅈㅏㄱㅣㅍㅕㅇㄱㅏㅅㅓ.pdf"
   → "자기평가서.pdf" (NFC)
   → 맥 파일시스템에 저장 시 자동으로 NFD 변환
   → ⚠️ 다시 NFD가 됨
```

---

## 💡 결론

### 이 확장프로그램은...

✅ **윈도우 사용자에게 완벽한 솔루션!**

- 받은 깨진 파일을 복원
- 복원된 파일을 계속 정상적으로 사용
- 다른 사람에게 전송해도 정상

⚠️ **맥 사용자에게는 제한적**

- 개인적으로 파일 확인은 가능
- 하지만 윈도우로 다시 전송하려면 추가 작업 필요
- ZIP 압축 또는 클라우드 사용 권장

### 추천 사용 시나리오

1. **윈도우 사용자**: 이 확장프로그램만 사용 ⭐
2. **맥 → 윈도우 전송**: ZIP 방식 사용 (이전 버전)
3. **맥 개인 용도**: 이 확장프로그램 사용 가능

---

## 📞 자주 묻는 질문

### Q: 맥에서 복원한 파일이 다시 깨지나요?

**A:** 맥 파일시스템에 저장되는 순간 자동으로 NFD로 변환됩니다. 맥에서는 정상으로 보이지만, 윈도우로 전송하면 다시 깨져 보일 수 있습니다.

### Q: 맥에서 윈도우로 파일을 보내려면?

**A:** ZIP으로 압축하거나 클라우드 링크로 공유하세요. ZIP 내부의 파일명은 NFC 형식이 유지됩니다.

### Q: 윈도우에서는 완벽하게 작동하나요?

**A:** 네! 윈도우는 NFC를 사용하므로 복원된 파일명이 계속 정상적으로 유지됩니다.

### Q: 크롬 확장프로그램은 모든 OS에서 작동하나요?

**A:** 네! 크롬 확장프로그램 자체는 맥, 윈도우, 리눅스 모두에서 작동합니다. 다만 각 OS의 파일시스템 특성에 따라 결과가 다를 수 있습니다.
